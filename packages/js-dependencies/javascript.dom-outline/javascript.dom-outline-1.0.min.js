var DomOutline=function(d){function p(){if(!0!==a.initialized){var b="."+a.opts.namespace+" {    background: #09c;    position: absolute;    z-index: 1000000;}."+a.opts.namespace+"_label {    background: #09c;    border-radius: 2px;    color: #fff;    font: bold 12px/12px Helvetica, sans-serif;    padding: 4px 6px;    position: absolute;    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.25);    z-index: 1000001;}",e=document.createElement("style");e.type="text/css";document.getElementsByTagName("head")[0].appendChild(e);
e.styleSheet?e.styleSheet.cssText=b:e.innerHTML=b;a.initialized=!0}}function q(){var b=document.createElement("div");b.classList.add(a.opts.namespace+"_label");var e=document.createElement("div");e.classList.add(a.opts.namespace);var c=document.createElement("div");c.classList.add(a.opts.namespace);var f=document.createElement("div");f.classList.add(a.opts.namespace);var g=document.createElement("div");g.classList.add(a.opts.namespace);var h=document.querySelector("body");a.elements.label=h.appendChild(b);
a.elements.top=h.appendChild(e);a.elements.bottom=h.appendChild(c);a.elements.left=h.appendChild(f);a.elements.right=h.appendChild(g)}function r(){[].forEach.call(a.elements,function(a,e){e.remove()})}function k(b){if(-1===b.target.className.indexOf(a.opts.namespace)&&(!a.opts.filter||!b.target.tagName!==a.opts.filter)){f.element=b.target;b=a.opts.borderWidth;a.elements.window||(a.elements.window=window);var e=scrollTop=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||
document.body).scrollTop;var c=f.element.getBoundingClientRect(),d=c.top+e;var g=f.element;var h=c.width,k=c.height,l=g.tagName.toLowerCase();g.id&&(l+="#"+g.id);g.className&&(l+=("."+g.className.trim().replace(/ /g,".")).replace(/\.\.+/g,"."));g=l+" ("+Math.round(h)+"x"+Math.round(k)+")";h=Math.max(0,c.left-b)+"px";a.elements.label.style.top=Math.max(0,d-20-b,e)+"px";a.elements.label.style.left=h;a.elements.label.textContent=g;a.elements.top.style.top=Math.max(0,d-b)+"px";a.elements.top.style.left=
c.left-b+"px";a.elements.top.style.width=c.width+b+"px";a.elements.top.style.height=b+"px";a.elements.bottom.style.top=d+c.height+"px";a.elements.bottom.style.left=c.left-b+"px";a.elements.bottom.style.width=c.width+b+"px";a.elements.bottom.style.height=b+"px";a.elements.left.style.top=d-b+"px";a.elements.left.style.left=Math.max(0,c.left-b)+"px";a.elements.left.style.width=b+"px";a.elements.left.style.height=c.height+b+"px";a.elements.right.style.top=d-b+"px";a.elements.right.style.left=c.left+c.width+
"px";a.elements.right.style.width=b+"px";a.elements.right.style.height=c.height+2*b+"px"}}function m(b){b.keyCode!==a.keyCodes.ESC&&b.keyCode!==a.keyCodes.BACKSPACE&&b.keyCode!==a.keyCodes.DELETE||f.stop();return!1}function n(b){if(a.opts.filter&&!b.target.tagName===a.opts.filter)return!1;a.opts.dontStop||f.stop();a.opts.onClick.call(f.element,b)}d=d||{};var f={},a={opts:{namespace:d.namespace||"DomOutline",borderWidth:d.borderWidth||2,onClick:d.onClick||!1,filter:d.filter||!1,dontStop:!d.stopOnClick||
!1},keyCodes:{BACKSPACE:8,ESC:27,DELETE:46},active:!1,initialized:!1,elements:{}};f.start=function(){p();if(!0!==a.active){a.active=!0;q();var b=document.querySelector("body");b.addEventListener("mousemove",k);b.addEventListener("keyup",m);a.opts.onClick&&setTimeout(function(){b.addEventListener("click",n)},50)}};f.stop=function(){a.active=!1;r();var b=document.querySelector("body");b.removeEventListener("mousemove",k);b.removeEventListener("keyup",m);b.removeEventListener("click",n)};return f};