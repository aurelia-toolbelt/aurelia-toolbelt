(function(c,n,f){var h=function(a,b){this.widget="";this.$element=c(a);this.defaultTime=b.defaultTime;this.disableFocus=b.disableFocus;this.disableMousewheel=b.disableMousewheel;this.isOpen=b.isOpen;this.minuteStep=b.minuteStep;this.modalBackdrop=b.modalBackdrop;this.orientation=b.orientation;this.secondStep=b.secondStep;this.snapToStep=b.snapToStep;this.showInputs=b.showInputs;this.showMeridian=b.showMeridian;this.showSeconds=b.showSeconds;this.template=b.template;this.appendWidgetTo=b.appendWidgetTo;
this.showWidgetOnAddonClick=b.showWidgetOnAddonClick;this.icons=b.icons;this.maxHours=b.maxHours;this.explicitMode=b.explicitMode;this.handleDocumentClick=function(a){var b=a.data.scope;b.$element.parent().find(a.target).length||b.$widget.is(a.target)||b.$widget.find(a.target).length||b.hideWidget()};this._init()};h.prototype={constructor:h,_init:function(){var a=this;if(this.showWidgetOnAddonClick&&this.$element.parent().hasClass("input-group")&&this.$element.parent().hasClass("bootstrap-timepicker"))this.$element.parent(".input-group.bootstrap-timepicker").find(".input-group-addon").on({"click.timepicker":c.proxy(this.showWidget,
this)}),this.$element.on({"focus.timepicker":c.proxy(this.highlightUnit,this),"click.timepicker":c.proxy(this.highlightUnit,this),"keydown.timepicker":c.proxy(this.elementKeydown,this),"blur.timepicker":c.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":c.proxy(this.mousewheel,this)});else if(this.template)this.$element.on({"focus.timepicker":c.proxy(this.showWidget,this),"click.timepicker":c.proxy(this.showWidget,this),"blur.timepicker":c.proxy(this.blurElement,this),
"mousewheel.timepicker DOMMouseScroll.timepicker":c.proxy(this.mousewheel,this)});else this.$element.on({"focus.timepicker":c.proxy(this.highlightUnit,this),"click.timepicker":c.proxy(this.highlightUnit,this),"keydown.timepicker":c.proxy(this.elementKeydown,this),"blur.timepicker":c.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":c.proxy(this.mousewheel,this)});this.$widget=!1!==this.template?c(this.getTemplate()).on("click",c.proxy(this.widgetClick,this)):!1;this.showInputs&&
!1!==this.$widget&&this.$widget.find("input").each(function(){c(this).on({"click.timepicker":function(){c(this).select()},"keydown.timepicker":c.proxy(a.widgetKeydown,a),"keyup.timepicker":c.proxy(a.widgetKeyup,a)})});this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null;this.updateFromElementVal()},clear:function(){this.meridian=this.second=this.minute=this.hour="";this.$element.val("")},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;
else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else 0>=this.hour?this.hour=this.maxHours-1:this.hour--},decrementMinute:function(a){a=a?this.minute-a:this.minute-this.minuteStep;0>a?(this.decrementHour(),this.minute=a+60):this.minute=a},decrementSecond:function(){var a=this.second-this.secondStep;0>a?(this.decrementMinute(!0),this.second=a+60):this.second=a},elementKeydown:function(a){switch(a.which){case 9:if(a.shiftKey){if("hour"===
this.highlightedUnit){this.hideWidget();break}this.highlightPrevUnit()}else if(this.showMeridian&&"meridian"===this.highlightedUnit||this.showSeconds&&"second"===this.highlightedUnit||!this.showMeridian&&!this.showSeconds&&"minute"===this.highlightedUnit){this.hideWidget();break}else this.highlightNextUnit();a.preventDefault();this.updateFromElementVal();break;case 27:this.updateFromElementVal();break;case 37:a.preventDefault();this.highlightPrevUnit();this.updateFromElementVal();break;case 38:a.preventDefault();
switch(this.highlightedUnit){case "hour":this.incrementHour();this.highlightHour();break;case "minute":this.incrementMinute();this.highlightMinute();break;case "second":this.incrementSecond();this.highlightSecond();break;case "meridian":this.toggleMeridian(),this.highlightMeridian()}this.update();break;case 39:a.preventDefault();this.highlightNextUnit();this.updateFromElementVal();break;case 40:a.preventDefault();switch(this.highlightedUnit){case "hour":this.decrementHour();this.highlightHour();break;
case "minute":this.decrementMinute();this.highlightMinute();break;case "second":this.decrementSecond();this.highlightSecond();break;case "meridian":this.toggleMeridian(),this.highlightMeridian()}this.update()}},getCursorPosition:function(){var a=this.$element.get(0);if("selectionStart"in a)return a.selectionStart;if(f.selection){a.focus();var b=f.selection.createRange(),d=f.selection.createRange().text.length;b.moveStart("character",-a.value.length);return b.text.length-d}},getTemplate:function(){if(this.showInputs){var a=
'<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>';var b='<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>';var d='<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>';var c='<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>'}else a='<span class="bootstrap-timepicker-hour"></span>',b='<span class="bootstrap-timepicker-minute"></span>',d='<span class="bootstrap-timepicker-second"></span>',c='<span class="bootstrap-timepicker-meridian"></span>';
a='<table><tr><td><a href="#" data-action="incrementHour"><span class="'+this.icons.up+'"></span></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><span class="'+this.icons.up+'"></span></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><span class="'+this.icons.up+'"></span></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><span class="'+
this.icons.up+'"></span></a></td>':"")+"</tr><tr><td>"+a+'</td> <td class="separator">:</td><td>'+b+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+d+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+c+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><span class="'+this.icons.down+'"></span></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><span class="'+this.icons.down+'"></span></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><span class="'+
this.icons.down+'"></span></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><span class="'+this.icons.down+'"></span></a></td>':"")+"</tr></table>";switch(this.template){case "modal":var e='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">&times;</a><h3>Pick a Time</h3></div><div class="modal-content">'+
a+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case "dropdown":e='<div class="bootstrap-timepicker-widget dropdown-menu">'+a+"</div>"}return e},getTime:function(){return""===this.hour?"":this.hour+":"+(1===this.minute.toString().length?"0"+this.minute:this.minute)+(this.showSeconds?":"+(1===this.second.toString().length?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:"")},hideWidget:function(){!1!==this.isOpen&&
(this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),c(f).off("mousedown.timepicker, touchend.timepicker",this.handleDocumentClick),this.isOpen=!1,this.$widget.detach())},highlightUnit:function(){this.position=this.getCursorPosition();0<=this.position&&2>=this.position?this.highlightHour():3<=
this.position&&5>=this.position?this.highlightMinute():6<=this.position&&8>=this.position?this.showSeconds?this.highlightSecond():this.highlightMeridian():9<=this.position&&11>=this.position&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case "hour":this.highlightMinute();break;case "minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case "second":this.showMeridian?this.highlightMeridian():this.highlightHour();
break;case "meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case "hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case "minute":this.highlightHour();break;case "second":this.highlightMinute();break;case "meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var a=this.$element.get(0),b=this;this.highlightedUnit="hour";a.setSelectionRange&&setTimeout(function(){10>
b.hour?a.setSelectionRange(0,1):a.setSelectionRange(0,2)},0)},highlightMinute:function(){var a=this.$element.get(0),b=this;this.highlightedUnit="minute";a.setSelectionRange&&setTimeout(function(){10>b.hour?a.setSelectionRange(2,4):a.setSelectionRange(3,5)},0)},highlightSecond:function(){var a=this.$element.get(0),b=this;this.highlightedUnit="second";a.setSelectionRange&&setTimeout(function(){10>b.hour?a.setSelectionRange(5,7):a.setSelectionRange(6,8)},0)},highlightMeridian:function(){var a=this.$element.get(0),
b=this;this.highlightedUnit="meridian";a.setSelectionRange&&(this.showSeconds?setTimeout(function(){10>b.hour?a.setSelectionRange(8,10):a.setSelectionRange(9,11)},0):setTimeout(function(){10>b.hour?a.setSelectionRange(5,7):a.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}this.hour===this.maxHours-1?this.hour=0:this.hour++},incrementMinute:function(a){a=a?this.minute+a:this.minute+
this.minuteStep-this.minute%this.minuteStep;59<a?(this.incrementHour(),this.minute=a-60):this.minute=a},incrementSecond:function(){var a=this.second+this.secondStep-this.second%this.secondStep;59<a?(this.incrementMinute(!0),this.second=a-60):this.second=a},mousewheel:function(a){if(!this.disableMousewheel){a.preventDefault();a.stopPropagation();var b=a.originalEvent.wheelDelta||-a.originalEvent.detail,d=null;"mousewheel"===a.type?d=-1*a.originalEvent.wheelDelta:"DOMMouseScroll"===a.type&&(d=40*a.originalEvent.detail);
d&&(a.preventDefault(),c(this).scrollTop(d+c(this).scrollTop()));switch(this.highlightedUnit){case "minute":0<b?this.incrementMinute():this.decrementMinute();this.highlightMinute();break;case "second":0<b?this.incrementSecond():this.decrementSecond();this.highlightSecond();break;case "meridian":this.toggleMeridian();this.highlightMeridian();break;default:0<b?this.incrementHour():this.decrementHour(),this.highlightHour()}return!1}},changeToNearestStep:function(a,b){return 0===a%b?a:Math.round(a%b/
b)?(a+(b-a%b))%60:a-a%b},place:function(){if(!this.isInline){var a=this.$widget.outerWidth(),b=this.$widget.outerHeight(),d=c(n).width(),k=c(n).height(),e=c(n).scrollTop(),f=parseInt(this.$element.parents().filter(function(){return"auto"!==c(this).css("z-index")}).first().css("z-index"),10)+10,g=this.component?this.component.parent().offset():this.$element.offset(),h=this.component?this.component.outerHeight(!0):this.$element.outerHeight(!1),p=this.component?this.component.outerWidth(!0):this.$element.outerWidth(!1),
l=g.left,m=g.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left");"auto"!==this.orientation.x?(this.$widget.addClass("timepicker-orient-"+this.orientation.x),"right"===this.orientation.x&&(l-=a-p)):(this.$widget.addClass("timepicker-orient-left"),0>g.left?l-=g.left-10:g.left+a>d&&(l=d-a-10));a=this.orientation.y;"auto"===a&&(a=-e+g.top-b,k=e+k-(g.top+h+b),a=Math.max(a,k)===k?"top":"bottom");this.$widget.addClass("timepicker-orient-"+
a);m="top"===a?m+h:m-(b+parseInt(this.$widget.css("padding-top"),10));this.$widget.css({top:m,left:l,zIndex:f})}},remove:function(){c("document").off(".timepicker");this.$widget&&this.$widget.remove();delete this.$element.data().timepicker},setDefaultTime:function(a){if(this.$element.val())this.updateFromElementVal();else if("current"===a){a=new Date;var b=a.getHours(),d=a.getMinutes(),c=a.getSeconds(),e="AM";0!==c&&(c=Math.ceil(a.getSeconds()/this.secondStep)*this.secondStep,60===c&&(d+=1,c=0));
0!==d&&(d=Math.ceil(a.getMinutes()/this.minuteStep)*this.minuteStep,60===d&&(b+=1,d=0));this.showMeridian&&(0===b?b=12:12<=b?(12<b&&(b-=12),e="PM"):e="AM");this.hour=b;this.minute=d;this.second=c;this.meridian=e;this.update()}else!1===a?(this.second=this.minute=this.hour=0,this.meridian="AM"):this.setTime(a)},setTime:function(a,b){if(a){if("object"===typeof a&&a.getMonth){var d=a.getHours();var c=a.getMinutes();var e=a.getSeconds();if(this.showMeridian){var f="AM";12<d&&(f="PM",d%=12);12===d&&(f=
"PM")}}else{var g=(/a/i.test(a)?1:0)+(/p/i.test(a)?2:0);if(2<g){this.clear();return}e=a.replace(/[^0-9:]/g,"").split(":");d=e[0]?e[0].toString():e.toString();if(this.explicitMode&&2<d.length&&0!==d.length%2){this.clear();return}c=e[1]?e[1].toString():"";e=e[2]?e[2].toString():"";4<d.length&&(e=d.slice(-2),d=d.slice(0,-2));2<d.length&&(c=d.slice(-2),d=d.slice(0,-2));2<c.length&&(e=c.slice(-2),c=c.slice(0,-2));d=parseInt(d,10);c=parseInt(c,10);e=parseInt(e,10);isNaN(d)&&(d=0);isNaN(c)&&(c=0);isNaN(e)&&
(e=0);59<e&&(e=59);59<c&&(c=59);d>=this.maxHours&&(d=this.maxHours-1);if(this.showMeridian)12<d&&(g=2,d-=12),g||(g=1),0===d&&(d=12),f=1===g?"AM":"PM";else if(12>d&&2===g)d+=12;else if(d>=this.maxHours)d=this.maxHours-1;else if(0>d||12===d&&1===g)d=0}this.hour=d;this.snapToStep?(this.minute=this.changeToNearestStep(c,this.minuteStep),this.second=this.changeToNearestStep(e,this.secondStep)):(this.minute=c,this.second=e);this.meridian=f;this.update(b)}else this.clear()},showWidget:function(){if(!this.isOpen&&
!this.$element.is(":disabled")){this.$widget.appendTo(this.appendWidgetTo);c(f).on("mousedown.timepicker, touchend.timepicker",{scope:this},this.handleDocumentClick);this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}});this.place();this.disableFocus&&this.$element.blur();""===this.hour&&(this.defaultTime?this.setDefaultTime(this.defaultTime):this.setTime("0:0:0"));if("modal"===this.template&&this.$widget.modal)this.$widget.modal("show").on("hidden",
c.proxy(this.hideWidget,this));else!1===this.isOpen&&this.$widget.addClass("open");this.isOpen=!0}},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM"},update:function(a){this.updateElement();a||this.updateWidget();this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},
updateWidget:function(){if(!1!==this.$widget){var a=this.hour,b=1===this.minute.toString().length?"0"+this.minute:this.minute,c=1===this.second.toString().length?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(a),this.$widget.find("input.bootstrap-timepicker-minute").val(b),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(c),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):
(this.$widget.find("span.bootstrap-timepicker-hour").text(a),this.$widget.find("span.bootstrap-timepicker-minute").text(b),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(c),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(!1!==this.$widget){var a=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?
":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(a,!0)}},widgetClick:function(a){a.stopPropagation();a.preventDefault();a=c(a.target);var b=a.closest("a").data("action");if(b)this[b]();this.update();a.is("input")&&a.get(0).setSelectionRange(0,2)},widgetKeydown:function(a){var b=c(a.target),d=b.attr("class").replace("bootstrap-timepicker-","");switch(a.which){case 9:if(a.shiftKey){if("hour"===
d)return this.hideWidget()}else if(this.showMeridian&&"meridian"===d||this.showSeconds&&"second"===d||!this.showMeridian&&!this.showSeconds&&"minute"===d)return this.hideWidget();break;case 27:this.hideWidget();break;case 38:a.preventDefault();switch(d){case "hour":this.incrementHour();break;case "minute":this.incrementMinute();break;case "second":this.incrementSecond();break;case "meridian":this.toggleMeridian()}this.setTime(this.getTime());b.get(0).setSelectionRange(0,2);break;case 40:a.preventDefault();
switch(d){case "hour":this.decrementHour();break;case "minute":this.decrementMinute();break;case "second":this.decrementSecond();break;case "meridian":this.toggleMeridian()}this.setTime(this.getTime());b.get(0).setSelectionRange(0,2)}},widgetKeyup:function(a){(65===a.which||77===a.which||80===a.which||46===a.which||8===a.which||48<=a.which&&57>=a.which||96<=a.which&&105>=a.which)&&this.updateFromWidgetInputs()}};c.fn.timepicker=function(a){var b=Array.apply(null,arguments);b.shift();return this.each(function(){var d=
c(this),f=d.data("timepicker"),e="object"===typeof a&&a;f||d.data("timepicker",f=new h(this,c.extend({},c.fn.timepicker.defaults,e,c(this).data())));"string"===typeof a&&f[a].apply(f,b)})};c.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,orientation:{x:"auto",y:"auto"},secondStep:15,snapToStep:!1,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:!0,icons:{up:"fa fa-chevron-up",
down:"fa fa-chevron-down"},maxHours:24,explicitMode:!1};c.fn.timepicker.Constructor=h;c(f).on("focus.timepicker.data-api click.timepicker.data-api",'[data-provide="timepicker"]',function(a){var b=c(this);b.data("timepicker")||(a.preventDefault(),b.timepicker())})})(jQuery,window,document);